# 密钥配送问题

密钥配送问题是对称加密技术必须面对的一个问题。因为加密和解密用的是同一个密钥，所以必须要考虑怎么安全地把密钥发给接收方

下面是一些方法:

1. 事先用安全的方式将密钥交给对方，这称为密钥的**事先共享**。比如说，可以请人直接坐飞机把密钥送过去。缺点：
    1. 请人配送也不一定安全
    2. 即使能够事先共享密钥，但在人数很多的情况下（假设他们相互之间都需要通信），通信所需要的密钥数量也会增大，非常难管理
2. 通过密钥分配中心来解决。分配中心保存了每个员工的密钥，当需要进行加密通信时，密钥分配中心会生成一个通信密钥，使用这个通信密钥来加密。举个例子，假设Alice需要向Bob发送数据，则需要进行以下步骤：
    1. Alice向密钥分配中心发出希望与Bob进行通信的请求
    2. 密钥分配中心通过伪随机数生成器生成一个会话密钥，这个密钥是供Alice与Bob在本次通信中使用的临时密钥
    3. 密钥分配中心从数据库中取出Alice的密钥和Bob的密钥
    4. 密钥分配中心用Alice的密钥对会话密钥进行加密，并发送给Alice
    5. 密钥分配中心用Bob的密钥对会话密钥进行加密，并发送给Bob
    6. Alice对来自密钥分配中心的会话密钥（已使用Alice的密钥加密）进行解密，得到会话密钥
    7. Alice用会话密钥对邮件进行加密，并将邮件发送给Bob
    8. Bob对来自密钥分配中心的会话密钥（已使用Bob的密钥加密）进行解密，得到会话密钥
    9. Bob用会话密钥对来自Alice的密文进行解密
    10. Alice和Bob删除会话密钥
    **缺点**：如果密钥分配中心计算机发生故障，全公司的加密通信就会瘫痪
3. 还可以考虑用非对称加密技术（密钥协商算法）来解决这个问题